<app-spinner #appspinner></app-spinner>

<app-table #tableComp [heading]="'Channel List'" [id]="'table-channels'" [columns]="['Action','Ch Number','Name','Image','Price']"
    [rows]="['catentryId','chnumber','chname','url','price']" (openAddModal)="openAddModal()" (openEditModal)="openEditModal($event)"
    (openRemoveModal)="openRemoveModal($event)">
</app-table>
<div class="modal fade" #add_channel_modal>
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Add New Channel</h4>
                <button type="button" class="close" data-dismiss="modal" (click)="resetAddChannelForm()" >&times;</button>
            </div>
            <div class="modal-body">
                <form role="form" [formGroup]="channelForm" >
                <div class="form-group">
                    <label for="chnumber">Channel Number :</label>
                    <input type ="text" class="form-control" formControlName="chnumber" name="chnumber" />
                    <div *ngIf="chnumber.invalid && chnumber.touched"  class="alert-danger">Please enter value</div>
                </div>
                <fieldset class="form-group">
                    <label for="chname" >Channel Name:</label>
                    <input type ="text" class="form-control" formControlName="chname" name="chname" />
                    <div class="valid-feedback"></div>
                    <div *ngIf="chname.invalid && chname.touched" class="alert-danger">Please enter value</div>
                </fieldset>
                <fieldset class="form-group">
                    <label for="price" >Channel Price :</label>
                    <input type ="number" class="form-control" formControlName="price" name="price" />
                    <div *ngIf="price.invalid && price.touched" class="alert-danger">Please enter value</div>
                </fieldset>
                <fieldset class="form-group">
                    <label for="channelImage" >Channel Image :</label>
                    <input type ="file" class="form-control" formControlName="channelImage" name="channelImage" #channelImage>
                    <div *ngIf="chImage.invalid && chImage.touched" class="alert-danger">Please enter value</div>
                </fieldset>
                <button type="submit" class="btn btn-primary" [disabled]="channelForm.invalid || loading" (click)="addChannel()">Submit</button>
                </form>
            </div>
        </div>
    </div>
</div>


<div class="modal fade" #update_channel_modal>
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Update New Channel</h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <div class="modal-body">
                <form role="form" [formGroup]="editChannelForm" >
                <fieldset class="form-group">
                    <label for="chnumber" >Channel Number :</label>
                    <input type ="text" class="form-control" formControlName="chnumber" name="chnumber" [disabled]="true"/>
                    <!--<div *ngIf="chnumber1.invalid && chnumber1.touched"  class="alert-danger">Please enter value</div>-->
                </fieldset>
                <fieldset class="form-group">
                    <label for="chname" >Channel Name:</label>
                    <input type ="text" class="form-control" formControlName="chname" name="chname" />
                    <div *ngIf="chname1.invalid && chname1.touched"  class="alert-danger">Please enter value</div>
                </fieldset>
                <fieldset class="form-group">
                    <label for="price" >Channel Price :</label>
                    <input type ="number" class="form-control" formControlName="price" name="price" />
                    <div *ngIf="price1.invalid && price1.touched"  class="alert-danger">Please enter value</div>
                </fieldset>
                <button type="button" class="btn btn-primary" [disabled]="editChannelForm.invalid || loading" (click)="updateChannel()">Update</button>
                </form>
            </div>
        </div>
    </div>
</div>
